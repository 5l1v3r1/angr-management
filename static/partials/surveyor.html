<div class="panel-heading">
  <button type="button" class="glyphicon btn btn-primary btn-xs" ng-class="{'glyphicon-plus': !show_surveyor, 'glyphicon-minus': show_surveyor}" ng-click="show_surveyor=!show_surveyor"></button>
  {{surveyor.type}} with {{surveyor.step}} steps and {{surveyor.paths.length}} paths
</div>

<span ng-if="show_surveyor">
  <div class="panel-body">
    <dl class="dl-horizontal">
      <dt>Maximum concurrency:</dt> <dd>{{surveyor.max_concurrency}}</dd>
      <dt>Save deadends:</dt> <dd>{{surveyor.save_deadends}}</dd>
      <dt>Empty path lists:</dt>
      <dd>
        <span ng-repeat="(name,paths) in surveyor.path_lists">
          <span ng-if="paths.length == 0"> {{name}}
        </span>
      </dd>
    </dl>
    
    <h4>Paths</h4>
    <table class="table">
      <tr ng-repeat="(name,paths) in surveyor.path_lists">
        <th ng-if="paths.length > 0">{{paths.length}} {{name}} paths</th>
        <td ng-if="paths.length > 0">
          <div class="well path_box" ng-repeat="p in paths">
                  <path data="p"></path>
            <button ng-if="name != 'active'" class="btn" ng-click="reactivate(p)">Reactivate</button>
            <button ng-if="name == 'active'" class="btn" ng-click="suspend(p)">Suspend</button>
          </div>
        </td>
      </tr>
    </table>
  </div>
</span>

<div class="panel-footer">
  <form class="form-inline" novalidate>
    <div class="form-group">
      <label>Step</label>
      <input style="width: 3em;" id="steps" ng-model="steps" />
    </div>
  
    <div class="form-group">
      <button type="submit" class="btn" ng-click="step(steps)">Step!</button>
    </div>
  </div>
</div>
